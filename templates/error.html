{% extends "base.html" %}

{% block content %}
<div class="container py-5">
    <div class="alert alert-danger">
        <div class="d-flex align-items-center mb-3">
            <i class="bi bi-exclamation-triangle-fill me-2" style="font-size: 2rem;"></i>
            <h2 class="mb-0">
                {% if error == "Not Found" %}
                    404 - Page Not Found
                {% elif error == "Method Not Allowed" %}
                    405 - Method Not Allowed
                {% elif error == "Internal Server Error" %}
                    500 - Server Error
                {% elif error == "Forbidden" %}
                    403 - Access Denied
                {% else %}
                    Error Occurred
                {% endif %}
            </h2>
        </div>
        
        <div class="mb-4">
            <p class="lead">
                {% if message %}
                    {{ message }}
                {% else %}
                    {{ error }}
                {% endif %}
            </p>
            
            {% if request.referrer %}
                <p class="text-muted">From: {{ request.referrer|urlize(40, true) }}</p>
            {% endif %}
        </div>

        <div class="d-flex gap-2 flex-wrap">
            <a href="{{ url_for('dashboard') }}" class="btn btn-primary" role="button" aria-label="Go to Dashboard">
                <i class="bi bi-speedometer2 me-1"></i> Dashboard
            </a>
            <a href="{{ url_for('index') }}" class="btn btn-outline-secondary" role="button" aria-label="Go to Homepage">
                <i class="bi bi-house me-1"></i> Homepage
            </a>
            {% if config.get('SUPPORT_EMAIL') %}
            <a href="mailto:{{ config.SUPPORT_EMAIL }}" class="btn btn-outline-danger" role="button" aria-label="Contact Support">
                <i class="bi bi-envelope me-1"></i> Contact Support
            </a>
            {% endif %}
        </div>

        {% if config.DEBUG %}
        <div class="mt-4 p-3 bg-dark text-white rounded">
            <h5 class="mb-2">Debug Information:</h5>
            <div class="font-monospace small">
                <div><strong>Route:</strong> {{ request.path }}</div>
                {% if error is defined and error.__class__ is defined %}
                    <div><strong>Error Type:</strong> {{ error.__class__.__name__ }}</div>
                {% endif %}
                <div><strong>Time:</strong> {{ now }}</div>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
